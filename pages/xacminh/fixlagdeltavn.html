<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>N·ªôi dung b·ªã kh√≥a</title>

<style>
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
html,body{width:100%;height:100%;margin:0}
body{
    min-height:100vh;
    background:linear-gradient(135deg,#cfe9ff,#e9d7ff);
    display:flex;
    align-items:center;
    justify-content:center;
}
.box{
    width:100%;
    max-width:360px;
    background:#fff;
    border-radius:20px;
    padding:24px 20px;
    text-align:center;
    box-shadow:0 12px 35px rgba(0,0,0,.12);
}
h2{margin:0 0 6px;font-size:22px}
.desc{font-size:14px;color:#666;margin-bottom:18px}
.btn{
    width:100%;
    border:none;
    border-radius:14px;
    padding:15px;
    font-size:16px;
    color:#fff;
    margin-bottom:12px;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:space-between;
}
.locked{background:#e74c3c}
.done{background:#2ecc71}
.check{display:none;font-weight:bold}
.done .check{display:block}

.status{margin-top:8px;font-size:15px;font-weight:500;color:#e74c3c}
.loading{display:none;margin-top:12px}
.spinner{
    width:30px;height:30px;border:4px solid #ddd;border-top:4px solid #2ecc71;
    border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 6px
}
@keyframes spin{100%{transform:rotate(360deg)}}
.timer{font-size:14px;color:#555}
.success{display:none;margin-top:12px;color:#2ecc71;font-weight:600}
.open-btn{
    display:none;margin-top:10px;width:100%;
    background:#6ab04c;color:#fff;border:none;
    border-radius:14px;padding:15px;font-size:16px;cursor:pointer
}
</style>
</head>

<body>

<div class="box">
    <h2>üîí N·ªôi dung b·ªã kh√≥a</h2>
    <p class="desc">Vui l√≤ng ·∫•n ƒë·ªß 3 n√∫t ƒë·ªÉ m·ªü kh√≥a</p>

    <button class="btn locked" id="ytBtn">
        <span>‚ñ∂Ô∏è Subscribe YouTube</span>
        <span class="check">‚úÖ</span>
    </button>

    <button class="btn locked" id="likeBtn">
        <span>üëç Like Video</span>
        <span class="check">‚úÖ</span>
    </button>

    <button class="btn locked" id="dcBtn">
        <span>üéÆ Tham gia Discord</span>
        <span class="check">‚úÖ</span>
    </button>

    <div class="status" id="status">‚ùå Ch∆∞a ho√†n th√†nh.</div>

    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div class="timer" id="timer">ƒêang x√°c minh... C√≤n 8s</div>
    </div>

    <div class="success" id="success">‚úÖ ƒê√£ m·ªü kh√≥a th√†nh c√¥ng!</div>
    <button class="open-btn" id="openBtn">üëâ M·ªü kh√≥a ngay</button>
</div>

<script>
const YT_LINK   = "https://www.youtube.com/@huygaming4569";
const LIKE_LINK = "https://youtu.be/Hx0VG1khSkU?si=fHyGTfgyIrTdpOtB";
const DC_LINK   = "https://discord.gg/XEaC68tVnv";
const REDIRECT  = "https://link4m.com/QjTaQX";
const ADS_DIRECT = "https://www.effectivegatecpm.com/ii6rhu2eay?key=4281f1fabd88d9cd20a896869f40503b";

let yt=false, like=false, dc=false;
let adLoaded=false, directLoaded=false, resetTimer=null;

const ytBtn=document.getElementById("ytBtn");
const likeBtn=document.getElementById("likeBtn");
const dcBtn=document.getElementById("dcBtn");
const status=document.getElementById("status");
const loading=document.getElementById("loading");
const timer=document.getElementById("timer");
const success=document.getElementById("success");
const openBtn=document.getElementById("openBtn");

function loadAdsterra(){
    if(adLoaded) return;
    adLoaded=true;
    const s=document.createElement("script");
    s.src="https://pl28440493.effectivegatecpm.com/9a/0d/a5/9a0da502d2d4902c316c37b32232af77.js";
    document.body.appendChild(s);
}

function openDirectAds(){
    if(directLoaded) return;
    directLoaded=true;
    window.open(ADS_DIRECT,"_blank");
}

function resetAdsAfter30s(){
    if(resetTimer) return;
    resetTimer=setTimeout(()=>{
        adLoaded=false;
        directLoaded=false;
        resetTimer=null;
    },30000);
}

function handleClick(type, link, btn){
    if(type.value) return;

    loadAdsterra();
    openDirectAds();

    setTimeout(()=>{
        const win = window.open(link,"_blank");

        if(win){
            type.value=true;
            btn.classList.replace("locked","done");
            check();
        }
    },500);
}

ytBtn.onclick = ()=>handleClick({get value(){return yt}, set value(v){yt=v}}, YT_LINK, ytBtn);
likeBtn.onclick = ()=>handleClick({get value(){return like}, set value(v){like=v}}, LIKE_LINK, likeBtn);
dcBtn.onclick = ()=>handleClick({get value(){return dc}, set value(v){dc=v}}, DC_LINK, dcBtn);

function check(){
    if(yt && like && dc){
        status.style.display="none";
        loading.style.display="block";

        let time=8;
        timer.innerText=`ƒêang x√°c minh... C√≤n ${time}s`;

        const cd=setInterval(()=>{
            time--;
            timer.innerText=`ƒêang x√°c minh... C√≤n ${time}s`;
            if(time<=0){
                clearInterval(cd);
                loading.style.display="none";
                success.style.display="block";
                openBtn.style.display="block";
                resetAdsAfter30s();
            }
        },1000);
    }
}

openBtn.onclick=()=>{
    window.location.href = REDIRECT;
};
</script>

<script src="https://pl28686410.effectivegatecpm.com/aa/e7/fc/aae7fc3e0643c4018ec9dc41f751d83f.js"></script>

</body>
</html>
